import e from"axios";import*as t from"lodash";import n,{createContext as r,useReducer as o,useContext as a}from"react";function i(t){const n=e.create(t?.clientOptions);return n.interceptors.request.use((e=>(t?.onLoadingStart?.(),"function"==typeof t?.onRequest?t?.onRequest?.(e):e))),n.interceptors.response.use((e=>(t?.onLoadingEnd?.(),"function"==typeof t?.onResponse?t?.onResponse?.(e):e))),n}function c(e){return Object.prototype.toString.call(e).replaceAll(/\[object\s|\]/,"").toLocaleLowerCase()}function s(e,t,n,r=!1){if(r){if("array"!=c(e))return;return function(r){let o={add(e){t({type:n,data:{index:r,data:e}})},remove(){t({type:n,data:{index:r}})}};if(e?.length){o.update=function(e,o){t({type:`${n}_item`,data:{index:r,key:e,value:o}})};for(const[r,a]of Object.entries(e))"object"==c(a)&&(o[r]=s(a,t,`${n}_${r}`,Array.isArray(a)))}return o}}if("object"==c(e)){let r={update(e,r){t({type:`${n}_item`,data:{key:e,value:r}})}};for(const[o,a]of Object.entries(e))"object"!=c(a)&&"array"!=c(a)||(r[o]=s(a,t,`${n}_${o}`,Array.isArray(a)));return r}return{}}const u=r({});function f({reducer:e,children:r,initialState:a}){const[i,c]=o(((n,r)=>e?.(t.cloneDeep(n),r)),a),f=s(i,c,"",!1);return n.createElement(u.Provider,{value:{state:i,dispatch:c,functions:f,...i}},r)}function p(){const e=a(u);return e||{}}export{i as ApiClient,f as ContextToolkitInitializer,p as useReactContextToolkit};
//# sourceMappingURL=index.js.map
